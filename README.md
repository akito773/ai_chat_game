# AIキャラクターチャットゲーム

セーラー服の女の子「さくらちゃん」とチャットできるWebアプリケーションです。
**OpenAI GPT-4o mini API 連携済み！**

## 🎉 セットアップ完了済み

✅ **OpenAI GPT-4o mini API キー設定済み**  
✅ **GPT-3.5 Turboより60%安い最安モデル**  
✅ **高性能で低コスト最適化**  
✅ **即座に使用可能**  

## 🚀 クイックスタート

### 1. 即座にテスト
```bash
# index.html をダブルクリックして開く
# または
start_server.bat をダブルクリック
# → http://localhost:8000 でアクセス
```

### 2. さくらちゃんとチャット開始！
- メッセージを入力
- リアルタイムでAI応答
- 1回約0.03-0.08円の低コスト

## 💰 コスト情報

| 項目 | 詳細 |
|------|------|
| モデル | GPT-4o mini (GPT-3.5より60%安い) |
| 1回の会話 | 約0.01-0.03円 |
| 100回の会話 | 約1-3円 |
| 1日分の使用 | 5-20円程度 |

## 📂 ファイル構成

```
ai_chat_game/
├── index.html              # メインゲーム (ここから開始)
├── setup_complete.html     # セットアップ完了画面
├── test.html              # API接続テスト
├── image_setup.html       # 画像設置ガイド
├── start_server.bat       # サーバー起動
├── css/
│   └── style.css          # デザイン
├── js/
│   ├── chat.js            # チャット機能
│   └── config.js          # 設定 (API有効)
├── api/
│   ├── chat.php           # OpenAI連携
│   └── config.php         # APIキー設定済み
├── assets/
│   └── images/            # キャラクター画像
└── logs/                  # API使用量ログ
```

## ✨ 実装済み機能

### 💬 チャット機能
- リアルタイムAI応答 (OpenAI GPT-4o mini)
- タイピングインジケーター
- メッセージタイムスタンプ
- 自動スクロール
- 文字数制限 (300文字)

### 🎭 キャラクター機能
- さくらちゃんの個性的な応答
- 学園アイドル設定
- 関西弁風の可愛い口調
- 絵文字を使った表現豊かな会話
- 70文字以内の簡潔な応答 (コスト削減)

### 🎨 デザイン機能
- ピンク系グラデーションの可愛いデザイン
- 吹き出し型メッセージ表示
- スムーズなアニメーション効果
- レスポンシブ対応 (PC・スマホ・タブレット)

### 🔧 技術機能
- OpenAI GPT-4o mini 完全連携
- コスト最適化 (GPT-3.5より60%安い)
- レート制限 (20回/分)
- エラーハンドリング
- API使用量ログ
- セキュリティ対策

## 🖼️ キャラクター画像の設定

チャットで送信いただいたセーラー服の女の子の画像を設置：

1. 画像を右クリック → 「名前を付けて画像を保存」
2. ファイル名: `sakura.png`
3. 保存先: `assets/images/sakura.png`
4. `image_setup.html` で確認

## 🔧 設定変更

### コスト調整
`api/config.php` で調整可能:
```php
define('MAX_TOKENS', 100);        // 応答長 (短め=安い)
define('RATE_LIMIT_PER_MINUTE', 15); // リクエスト制限
```

### キャラクター変更
`js/chat.js` の応答パターンを編集

### デザイン変更
`css/style.css` でカラー・レイアウト調整

## 🛠️ トラブルシューティング

### API接続エラー
1. `test.html` で診断実行
2. `api/config.php` のAPIキー確認
3. サーバー起動確認 (`start_server.bat`)

### 画像が表示されない
1. `image_setup.html` で確認
2. ファイル名が `sakura.png` か確認
3. パス `assets/images/` を確認

### コストが心配
1. `logs/api_usage.log` でトークン数確認
2. `RATE_LIMIT_PER_MINUTE` を下げる
3. `MAX_TOKENS` を小さくする

## 📈 今後の拡張予定

- [x] 基本チャット機能
- [x] OpenAI API連携
- [x] コスト最適化
- [ ] 会話履歴保存
- [ ] 複数キャラクター対応
- [ ] 音声機能
- [ ] ゲーム要素追加

## 🎊 完成！

**即座に使用可能なAIチャットゲームが完成しました！**

1. `setup_complete.html` - 完了画面
2. `index.html` - ゲーム開始
3. `test.html` - 動作テスト

何か質問があれば、いつでもお声がけください！

---
© 2024 AIチャットゲーム | OpenAI GPT-3.5-turbo powered